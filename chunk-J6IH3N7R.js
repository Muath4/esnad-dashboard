import{e as Ke,l as Qe,m as xr}from"./chunk-LLPMUFBB.js";import{Fb as Xe,Hb as We,Ia as Ge,Ka as B,L as Pe,Pa as J,Q as $e,Qa as ee,Ra as qe,Ta as Be,Ua as Ye,V as ze,W as Z,ba as Ne,eb as re,ia as Ve,ja as Ue,ta as He,ua as N,xa as je}from"./chunk-R74EOESP.js";import{a as _e}from"./chunk-LZX4GX75.js";import{a as wr}from"./chunk-RM5POVKI.js";import{a as lr,b as mr}from"./chunk-MDJFDSBM.js";import{a as yr}from"./chunk-MXBULAG2.js";import{b as ur}from"./chunk-5KKSAYQM.js";import{a as hr}from"./chunk-5YHN6KDB.js";import{b as pr,j as Ee,l as fr,m as U,n as gr,o as vr}from"./chunk-BX6Q2EGA.js";import{A as ir,B as De,C as nr,D as V,E as or,F as Y,I as sr,O as dr,Q as cr,ba as X,ca as ae,g as Pt,h as i,ha as O,j as f,k as he,l as Ze,n as Je,o as ye,p as we,q as xe,r as er,s as rr,u as te,x as be,y as tr,z as ar}from"./chunk-YMYRQ6W5.js";import{d as Se}from"./chunk-337ES2G7.js";import{a as Re,b as Fe,g as Ft,h as d}from"./chunk-FU75TI2F.js";var ie="comm",ne="rule",oe="decl";var br="@import";var Dr="@keyframes";var Er="@layer";var Me=Math.abs,W=String.fromCharCode;function se(e){return e.trim()}function K(e,r,t){return e.replace(r,t)}function Sr(e,r,t){return e.indexOf(r,t)}function $(e,r){return e.charCodeAt(r)|0}function F(e,r,t){return e.slice(r,t)}function x(e){return e.length}function _r(e){return e.length}function H(e,r){return r.push(e),e}var de=1,j=1,Mr=0,D=0,v=0,q="";function ce(e,r,t,a,n,o,c,s){return{value:e,root:r,parent:t,type:a,props:n,children:o,line:de,column:j,length:c,return:"",siblings:s}}function Cr(){return v}function Tr(){return v=D>0?$(q,--D):0,j--,v===10&&(j=1,de--),v}function E(){return v=D<Mr?$(q,D++):0,j++,v===10&&(j=1,de++),v}function k(){return $(q,D)}function Q(){return D}function le(e,r){return F(q,e,r)}function G(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Ir(e){return de=j=1,Mr=x(q=e),D=0,[]}function Lr(e){return q="",e}function me(e){return se(le(D-1,Ce(e===91?e+2:e===40?e+1:e)))}function Ar(e){for(;(v=k())&&v<33;)E();return G(e)>2||G(v)>3?"":" "}function Or(e,r){for(;--r&&E()&&!(v<48||v>102||v>57&&v<65||v>70&&v<97););return le(e,Q()+(r<6&&k()==32&&E()==32))}function Ce(e){for(;E();)switch(v){case e:return D;case 34:case 39:e!==34&&e!==39&&Ce(v);break;case 40:e===41&&Ce(e);break;case 92:E();break}return D}function kr(e,r){for(;E()&&e+v!==57;)if(e+v===84&&k()===47)break;return"/*"+le(r,D-1)+"*"+W(e===47?e:E())}function Rr(e){for(;!G(k());)E();return le(e,D)}function $r(e){return Lr(ue("",null,null,null,[""],e=Ir(e),0,[0],e))}function ue(e,r,t,a,n,o,c,s,l){for(var h=0,y=0,m=c,w=0,T=0,S=0,p=1,L=1,_=1,g=0,M="",A=n,I=o,b=a,u=M;L;)switch(S=g,g=E()){case 40:if(S!=108&&$(u,m-1)==58){Sr(u+=K(me(g),"&","&\f"),"&\f",Me(h?s[h-1]:0))!=-1&&(_=-1);break}case 34:case 39:case 91:u+=me(g);break;case 9:case 10:case 13:case 32:u+=Ar(S);break;case 92:u+=Or(Q()-1,7);continue;case 47:switch(k()){case 42:case 47:H($t(kr(E(),Q()),r,t,l),l),(G(S||1)==5||G(k()||1)==5)&&x(u)&&F(u,-1,void 0)!==" "&&(u+=" ");break;default:u+="/"}break;case 123*p:s[h++]=x(u)*_;case 125*p:case 59:case 0:switch(g){case 0:case 125:L=0;case 59+y:_==-1&&(u=K(u,/\f/g,"")),T>0&&(x(u)-m||p===0&&S===47)&&H(T>32?Pr(u+";",a,t,m-1,l):Pr(K(u," ","")+";",a,t,m-2,l),l);break;case 59:u+=";";default:if(H(b=Fr(u,r,t,h,y,n,s,M,A=[],I=[],m,o),o),g===123)if(y===0)ue(u,r,b,b,A,o,m,s,I);else switch(w===99&&$(u,3)===110?100:w){case 100:case 108:case 109:case 115:ue(e,b,b,a&&H(Fr(e,b,b,0,0,n,s,M,n,A=[],m,I),I),n,I,m,s,a?A:I);break;default:ue(u,b,b,b,[""],I,0,s,I)}}h=y=T=0,p=_=1,M=u="",m=c;break;case 58:m=1+x(u),T=S;default:if(p<1){if(g==123)--p;else if(g==125&&p++==0&&Tr()==125)continue}switch(u+=W(g),g*p){case 38:_=y>0?1:(u+="\f",-1);break;case 44:s[h++]=(x(u)-1)*_,_=1;break;case 64:k()===45&&(u+=me(E())),w=k(),y=m=x(M=u+=Rr(Q())),g++;break;case 45:S===45&&x(u)==2&&(p=0)}}return o}function Fr(e,r,t,a,n,o,c,s,l,h,y,m){for(var w=n-1,T=n===0?o:[""],S=_r(T),p=0,L=0,_=0;p<a;++p)for(var g=0,M=F(e,w+1,w=Me(L=c[p])),A=e;g<S;++g)(A=se(L>0?T[g]+" "+M:K(M,/&\f/g,T[g])))&&(l[_++]=A);return ce(e,r,t,n===0?ne:s,l,h,y,m)}function $t(e,r,t,a){return ce(e,r,t,ie,W(Cr()),F(e,2,-2),0,a)}function Pr(e,r,t,a,n){return ce(e,r,t,oe,F(e,0,a),F(e,a+1,-1),a,n)}function pe(e,r){for(var t="",a=0;a<e.length;a++)t+=r(e[a],a,e,r)||"";return t}function zr(e,r,t,a){switch(e.type){case Er:if(e.children.length)break;case br:case oe:return e.return=e.return||e.value;case ie:return"";case Dr:return e.return=e.value+"{"+pe(e.children,a)+"}";case ne:if(!x(e.value=e.props.join(",")))return""}return x(t=pe(e.children,a))?e.return=e.value+"{"+t+"}":""}var ft=Ft(Pt(),1);var jr="c4",zt=i(e=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(e),"detector"),Nt=i(()=>d(void 0,null,function*(){let{diagram:e}=yield import("./chunk-QGC5MCLR.js");return{id:jr,diagram:e}}),"loader"),Vt={id:jr,detector:zt,loader:Nt},Ut=Vt,Gr="flowchart",Ht=i((e,r)=>r?.flowchart?.defaultRenderer==="dagre-wrapper"||r?.flowchart?.defaultRenderer==="elk"?!1:/^\s*graph/.test(e),"detector"),jt=i(()=>d(void 0,null,function*(){let{diagram:e}=yield import("./chunk-YZ5QYUVI.js");return{id:Gr,diagram:e}}),"loader"),Gt={id:Gr,detector:Ht,loader:jt},qt=Gt,qr="flowchart-v2",Bt=i((e,r)=>r?.flowchart?.defaultRenderer==="dagre-d3"?!1:(r?.flowchart?.defaultRenderer==="elk"&&(r.layout="elk"),/^\s*graph/.test(e)&&r?.flowchart?.defaultRenderer==="dagre-wrapper"?!0:/^\s*flowchart/.test(e)),"detector"),Yt=i(()=>d(void 0,null,function*(){let{diagram:e}=yield import("./chunk-YZ5QYUVI.js");return{id:qr,diagram:e}}),"loader"),Xt={id:qr,detector:Bt,loader:Yt},Wt=Xt,Br="er",Kt=i(e=>/^\s*erDiagram/.test(e),"detector"),Qt=i(()=>d(void 0,null,function*(){let{diagram:e}=yield import("./chunk-GDBHIYCV.js");return{id:Br,diagram:e}}),"loader"),Zt={id:Br,detector:Kt,loader:Qt},Jt=Zt,Yr="gitGraph",ea=i(e=>/^\s*gitGraph/.test(e),"detector"),ra=i(()=>d(void 0,null,function*(){let{diagram:e}=yield import("./chunk-TAXL5U55.js");return{id:Yr,diagram:e}}),"loader"),ta={id:Yr,detector:ea,loader:ra},aa=ta,Xr="gantt",ia=i(e=>/^\s*gantt/.test(e),"detector"),na=i(()=>d(void 0,null,function*(){let{diagram:e}=yield import("./chunk-I7YZ2MIL.js");return{id:Xr,diagram:e}}),"loader"),oa={id:Xr,detector:ia,loader:na},sa=oa,Wr="info",da=i(e=>/^\s*info/.test(e),"detector"),ca=i(()=>d(void 0,null,function*(){let{diagram:e}=yield import("./chunk-WORKFY6H.js");return{id:Wr,diagram:e}}),"loader"),la={id:Wr,detector:da,loader:ca},Kr="pie",ma=i(e=>/^\s*pie/.test(e),"detector"),ua=i(()=>d(void 0,null,function*(){let{diagram:e}=yield import("./chunk-NMD7XLD4.js");return{id:Kr,diagram:e}}),"loader"),pa={id:Kr,detector:ma,loader:ua},Qr="quadrantChart",fa=i(e=>/^\s*quadrantChart/.test(e),"detector"),ga=i(()=>d(void 0,null,function*(){let{diagram:e}=yield import("./chunk-OJNEGYYR.js");return{id:Qr,diagram:e}}),"loader"),va={id:Qr,detector:fa,loader:ga},ha=va,Zr="xychart",ya=i(e=>/^\s*xychart-beta/.test(e),"detector"),wa=i(()=>d(void 0,null,function*(){let{diagram:e}=yield import("./chunk-R6YWL3C3.js");return{id:Zr,diagram:e}}),"loader"),xa={id:Zr,detector:ya,loader:wa},ba=xa,Jr="requirement",Da=i(e=>/^\s*requirement(Diagram)?/.test(e),"detector"),Ea=i(()=>d(void 0,null,function*(){let{diagram:e}=yield import("./chunk-TDLVOZTE.js");return{id:Jr,diagram:e}}),"loader"),Sa={id:Jr,detector:Da,loader:Ea},_a=Sa,et="sequence",Ma=i(e=>/^\s*sequenceDiagram/.test(e),"detector"),Ca=i(()=>d(void 0,null,function*(){let{diagram:e}=yield import("./chunk-E62O6SCP.js");return{id:et,diagram:e}}),"loader"),Ta={id:et,detector:Ma,loader:Ca},Ia=Ta,rt="class",La=i((e,r)=>r?.class?.defaultRenderer==="dagre-wrapper"?!1:/^\s*classDiagram/.test(e),"detector"),Aa=i(()=>d(void 0,null,function*(){let{diagram:e}=yield import("./chunk-537RPTX6.js");return{id:rt,diagram:e}}),"loader"),Oa={id:rt,detector:La,loader:Aa},ka=Oa,tt="classDiagram",Ra=i((e,r)=>/^\s*classDiagram/.test(e)&&r?.class?.defaultRenderer==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(e),"detector"),Fa=i(()=>d(void 0,null,function*(){let{diagram:e}=yield import("./chunk-DHU2YLHK.js");return{id:tt,diagram:e}}),"loader"),Pa={id:tt,detector:Ra,loader:Fa},$a=Pa,at="state",za=i((e,r)=>r?.state?.defaultRenderer==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(e),"detector"),Na=i(()=>d(void 0,null,function*(){let{diagram:e}=yield import("./chunk-JYQMUKTZ.js");return{id:at,diagram:e}}),"loader"),Va={id:at,detector:za,loader:Na},Ua=Va,it="stateDiagram",Ha=i((e,r)=>!!(/^\s*stateDiagram-v2/.test(e)||/^\s*stateDiagram/.test(e)&&r?.state?.defaultRenderer==="dagre-wrapper"),"detector"),ja=i(()=>d(void 0,null,function*(){let{diagram:e}=yield import("./chunk-MSZM57Y6.js");return{id:it,diagram:e}}),"loader"),Ga={id:it,detector:Ha,loader:ja},qa=Ga,nt="journey",Ba=i(e=>/^\s*journey/.test(e),"detector"),Ya=i(()=>d(void 0,null,function*(){let{diagram:e}=yield import("./chunk-TOJWMTRR.js");return{id:nt,diagram:e}}),"loader"),Xa={id:nt,detector:Ba,loader:Ya},Wa=Xa,Ka=i((e,r,t)=>{f.debug(`rendering svg for syntax error
`);let a=wr(r),n=a.append("g");a.attr("viewBox","0 0 2412 512"),dr(a,100,512,!0),n.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),n.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),n.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),n.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),n.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),n.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),n.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),n.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${t}`)},"draw"),ot={draw:Ka},Qa=ot,Za={db:{},renderer:ot,parser:{parse:i(()=>{},"parse")}},Ja=Za,st="flowchart-elk",ei=i((e,r={})=>/^\s*flowchart-elk/.test(e)||/^\s*flowchart|graph/.test(e)&&r?.flowchart?.defaultRenderer==="elk"?(r.layout="elk",!0):!1,"detector"),ri=i(()=>d(void 0,null,function*(){let{diagram:e}=yield import("./chunk-YZ5QYUVI.js");return{id:st,diagram:e}}),"loader"),ti={id:st,detector:ei,loader:ri},ai=ti,dt="timeline",ii=i(e=>/^\s*timeline/.test(e),"detector"),ni=i(()=>d(void 0,null,function*(){let{diagram:e}=yield import("./chunk-LILWGUC5.js");return{id:dt,diagram:e}}),"loader"),oi={id:dt,detector:ii,loader:ni},si=oi,ct="mindmap",di=i(e=>/^\s*mindmap/.test(e),"detector"),ci=i(()=>d(void 0,null,function*(){let{diagram:e}=yield import("./chunk-YQ4YREYV.js");return{id:ct,diagram:e}}),"loader"),li={id:ct,detector:di,loader:ci},mi=li,lt="sankey",ui=i(e=>/^\s*sankey-beta/.test(e),"detector"),pi=i(()=>d(void 0,null,function*(){let{diagram:e}=yield import("./chunk-7URS5N3E.js");return{id:lt,diagram:e}}),"loader"),fi={id:lt,detector:ui,loader:pi},gi=fi,mt="packet",vi=i(e=>/^\s*packet-beta/.test(e),"detector"),hi=i(()=>d(void 0,null,function*(){let{diagram:e}=yield import("./chunk-CJ263IQB.js");return{id:mt,diagram:e}}),"loader"),yi={id:mt,detector:vi,loader:hi},ut="block",wi=i(e=>/^\s*block-beta/.test(e),"detector"),xi=i(()=>d(void 0,null,function*(){let{diagram:e}=yield import("./chunk-6DGUJLWZ.js");return{id:ut,diagram:e}}),"loader"),bi={id:ut,detector:wi,loader:xi},Di=bi,pt="architecture",Ei=i(e=>/^\s*architecture/.test(e),"detector"),Si=i(()=>d(void 0,null,function*(){let{diagram:e}=yield import("./chunk-56564FLT.js");return{id:pt,diagram:e}}),"loader"),_i={id:pt,detector:Ei,loader:Si},Mi=_i,Nr=!1,ge=i(()=>{Nr||(Nr=!0,X("error",Ja,e=>e.toLowerCase().trim()==="error"),X("---",{db:{clear:i(()=>{},"clear")},styles:{},renderer:{draw:i(()=>{},"draw")},parser:{parse:i(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:i(()=>null,"init")},e=>e.toLowerCase().trimStart().startsWith("---")),xe(Ut,$a,ka,Jt,sa,la,pa,_a,Ia,ai,Wt,qt,mi,si,aa,qa,Ua,Wa,ha,gi,yi,ba,Di,Mi))},"addDiagrams"),Ci=i(()=>d(void 0,null,function*(){f.debug("Loading registered diagrams");let r=(yield Promise.allSettled(Object.entries(ye).map(o=>d(void 0,[o],function*([t,{detector:a,loader:n}]){if(n)try{ae(t)}catch{try{let{diagram:c,id:s}=yield n();X(s,c,a)}catch(c){throw f.error(`Failed to load external diagram with key ${t}. Removing from detectors.`),delete ye[t],c}}})))).filter(t=>t.status==="rejected");if(r.length>0){f.error(`Failed to load ${r.length} external diagrams`);for(let t of r)f.error(t);throw new Error(`Failed to load ${r.length} external diagrams`)}}),"loadRegisteredDiagrams"),Ti="graphics-document document";function gt(e,r){e.attr("role",Ti),r!==""&&e.attr("aria-roledescription",r)}i(gt,"setA11yDiagramInfo");function vt(e,r,t,a){if(e.insert!==void 0){if(t){let n=`chart-desc-${a}`;e.attr("aria-describedby",n),e.insert("desc",":first-child").attr("id",n).text(t)}if(r){let n=`chart-title-${a}`;e.attr("aria-labelledby",n),e.insert("title",":first-child").attr("id",n).text(r)}}}i(vt,"addSVGa11yTitleDescription");var Ie=class ht{constructor(r,t,a,n,o){this.type=r,this.text=t,this.db=a,this.parser=n,this.renderer=o}static{i(this,"Diagram")}static fromText(a){return d(this,arguments,function*(r,t={}){let n=V(),o=we(r,n);r=gr(r)+`
`;try{ae(o)}catch{let y=er(o);if(!y)throw new Je(`Diagram ${o} not found.`);let{id:m,diagram:w}=yield y();X(m,w)}let{db:c,parser:s,renderer:l,init:h}=ae(o);return s.parser&&(s.parser.yy=c),c.clear?.(),h?.(n),t.title&&c.setDiagramTitle?.(t.title),yield s.parse(r),new ht(o,r,c,s,l)})}render(r,t){return d(this,null,function*(){yield this.renderer.draw(this.text,r,t,this)})}getParser(){return this.parser}getType(){return this.type}},Vr=[],Ii=i(()=>{Vr.forEach(e=>{e()}),Vr=[]},"attachFunctions"),Li=i(e=>e.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function yt(e){let r=e.match(Ze);if(!r)return{text:e,metadata:{}};let t=mr(r[1],{schema:lr})??{};t=typeof t=="object"&&!Array.isArray(t)?t:{};let a={};return t.displayMode&&(a.displayMode=t.displayMode.toString()),t.title&&(a.title=t.title.toString()),t.config&&(a.config=t.config),{text:e.slice(r[0].length),metadata:a}}i(yt,"extractFrontMatter");var Ai=i(e=>e.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(r,t,a)=>"<"+t+a.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),Oi=i(e=>{let{text:r,metadata:t}=yt(e),{displayMode:a,title:n,config:o={}}=t;return a&&(o.gantt||(o.gantt={}),o.gantt.displayMode=a),{title:n,config:o,text:r}},"processFrontmatter"),ki=i(e=>{let r=U.detectInit(e)??{},t=U.detectDirective(e,"wrap");return Array.isArray(t)?r.wrap=t.some(({type:a})=>a==="wrap"):t?.type==="wrap"&&(r.wrap=!0),{text:pr(e),directive:r}},"processDirectives");function Ae(e){let r=Ai(e),t=Oi(r),a=ki(t.text),n=fr(t.config,a.directive);return e=Li(a.text),{code:e,title:t.title,config:n}}i(Ae,"preprocessDiagram");function wt(e){let r=new TextEncoder().encode(e),t=Array.from(r,a=>String.fromCodePoint(a)).join("");return btoa(t)}i(wt,"toBase64");var Ri=5e4,Fi="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",Pi="sandbox",$i="loose",zi="http://www.w3.org/2000/svg",Ni="http://www.w3.org/1999/xlink",Vi="http://www.w3.org/1999/xhtml",Ui="100%",Hi="100%",ji="border:0;margin:0;",Gi="margin:0",qi="allow-top-navigation-by-user-activation allow-popups",Bi='The "iframe" tag is not supported by your browser.',Yi=["foreignobject"],Xi=["dominant-baseline"];function Oe(e){let r=Ae(e);return Y(),or(r.config??{}),r}i(Oe,"processAndSetConfigs");function xt(e,r){return d(this,null,function*(){ge();try{let{code:t,config:a}=Oe(e);return{diagramType:(yield Dt(t)).type,config:a}}catch(t){if(r?.suppressErrors)return!1;throw t}})}i(xt,"parse");var Ur=i((e,r,t=[])=>`
.${e} ${r} { ${t.join(" !important; ")} !important; }`,"cssImportantStyles"),Wi=i((e,r=new Map)=>{let t="";if(e.themeCSS!==void 0&&(t+=`
${e.themeCSS}`),e.fontFamily!==void 0&&(t+=`
:root { --mermaid-font-family: ${e.fontFamily}}`),e.altFontFamily!==void 0&&(t+=`
:root { --mermaid-alt-font-family: ${e.altFontFamily}}`),r instanceof Map){let c=e.htmlLabels??e.flowchart?.htmlLabels?["> *","span"]:["rect","polygon","ellipse","circle","path"];r.forEach(s=>{Se(s.styles)||c.forEach(l=>{t+=Ur(s.id,l,s.styles)}),Se(s.textStyles)||(t+=Ur(s.id,"tspan",(s?.textStyles||[]).map(l=>l.replace("color","fill"))))})}return t},"createCssStyles"),Ki=i((e,r,t,a)=>{let n=Wi(e,t),o=cr(r,n,e.themeVariables);return pe($r(`${a}{${o}}`),zr)},"createUserStyles"),Qi=i((e="",r,t)=>{let a=e;return!t&&!r&&(a=a.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),a=vr(a),a=a.replace(/<br>/g,"<br/>"),a},"cleanUpSvgCode"),Zi=i((e="",r)=>{let t=r?.viewBox?.baseVal?.height?r.viewBox.baseVal.height+"px":Hi,a=wt(`<body style="${Gi}">${e}</body>`);return`<iframe style="width:${Ui};height:${t};${ji}" src="data:text/html;charset=UTF-8;base64,${a}" sandbox="${qi}">
  ${Bi}
</iframe>`},"putIntoIFrame"),Hr=i((e,r,t,a,n)=>{let o=e.append("div");o.attr("id",t),a&&o.attr("style",a);let c=o.append("svg").attr("id",r).attr("width","100%").attr("xmlns",zi);return n&&c.attr("xmlns:xlink",n),c.append("g"),e},"appendDivSvgG");function Le(e,r){return e.append("iframe").attr("id",r).attr("style","width: 100%; height: 100%;").attr("sandbox","")}i(Le,"sandboxedIframe");var Ji=i((e,r,t,a)=>{e.getElementById(r)?.remove(),e.getElementById(t)?.remove(),e.getElementById(a)?.remove()},"removeExistingElements"),en=i(function(e,r,t){return d(this,null,function*(){ge();let a=Oe(r);r=a.code;let n=V();f.debug(n),r.length>(n?.maxTextSize??Ri)&&(r=Fi);let o="#"+e,c="i"+e,s="#"+c,l="d"+e,h="#"+l,y=i(()=>{let ve=O(w?s:h).node();ve&&"remove"in ve&&ve.remove()},"removeTempElements"),m=O("body"),w=n.securityLevel===Pi,T=n.securityLevel===$i,S=n.fontFamily;if(t!==void 0){if(t&&(t.innerHTML=""),w){let C=Le(O(t),c);m=O(C.nodes()[0].contentDocument.body),m.node().style.margin=0}else m=O(t);Hr(m,e,l,`font-family: ${S}`,Ni)}else{if(Ji(document,e,l,c),w){let C=Le(O("body"),c);m=O(C.nodes()[0].contentDocument.body),m.node().style.margin=0}else m=O("body");Hr(m,e,l)}let p,L;try{p=yield Ie.fromText(r,{title:a.title})}catch(C){if(n.suppressErrorRendering)throw y(),C;p=yield Ie.fromText("error"),L=C}let _=m.select(h).node(),g=p.type,M=_.firstChild,A=M.firstChild,I=p.renderer.getClasses?.(r,p),b=Ki(n,g,I,o),u=document.createElement("style");u.innerHTML=b,M.insertBefore(u,A);try{yield p.renderer.draw(r,e,_e,p)}catch(C){throw n.suppressErrorRendering?y():Qa.draw(r,e,_e),C}let Ot=m.select(`${h} svg`),kt=p.db.getAccTitle?.(),Rt=p.db.getAccDescription?.();Et(g,Ot,kt,Rt),m.select(`[id="${e}"]`).selectAll("foreignobject > *").attr("xmlns",Vi);let P=m.select(h).node().innerHTML;if(f.debug("config.arrowMarkerAbsolute",n.arrowMarkerAbsolute),P=Qi(P,w,sr(n.arrowMarkerAbsolute)),w){let C=m.select(h+" svg").node();P=Zi(P,C)}else T||(P=ft.default.sanitize(P,{ADD_TAGS:Yi,ADD_ATTR:Xi}));if(Ii(),L)throw L;return y(),{diagramType:g,svg:P,bindFunctions:p.db.bindFunctions}})},"render");function bt(e={}){let r=rr({},e);r?.fontFamily&&!r.themeVariables?.fontFamily&&(r.themeVariables||(r.themeVariables={}),r.themeVariables.fontFamily=r.fontFamily),ar(r),r?.theme&&r.theme in te?r.themeVariables=te[r.theme].getThemeVariables(r.themeVariables):r&&(r.themeVariables=te.default.getThemeVariables(r.themeVariables));let t=typeof r=="object"?tr(r):De();he(t.logLevel),ge()}i(bt,"initialize");var Dt=i((e,r={})=>{let{code:t}=Ae(e);return Ie.fromText(t,r)},"getDiagramFromText");function Et(e,r,t,a){gt(r,e),vt(r,t,a,r.attr("id"))}i(Et,"addA11yInfo");var z=Object.freeze({render:en,parse:xt,getDiagramFromText:Dt,initialize:bt,getConfig:V,setConfig:nr,getSiteConfig:De,updateSiteConfig:ir,reset:i(()=>{Y()},"reset"),globalReset:i(()=>{Y(be)},"globalReset"),defaultConfig:be});he(V().logLevel);Y(V());var rn=i((e,r,t)=>{f.warn(e),Ee(e)?(t&&t(e.str,e.hash),r.push(Fe(Re({},e),{message:e.str,error:e}))):(t&&t(e),e instanceof Error&&r.push({str:e.message,message:e.message,hash:e.name,error:e}))},"handleError"),St=i(function(){return d(this,arguments,function*(e={querySelector:".mermaid"}){try{yield tn(e)}catch(r){if(Ee(r)&&f.error(r.str),R.parseError&&R.parseError(r),!e.suppressErrors)throw f.error("Use the suppressErrors option to suppress these errors"),r}})},"run"),tn=i(function(){return d(this,arguments,function*({postRenderCallback:e,querySelector:r,nodes:t}={querySelector:".mermaid"}){let a=z.getConfig();f.debug(`${e?"":"No "}Callback function found`);let n;if(t)n=t;else if(r)n=document.querySelectorAll(r);else throw new Error("Nodes and querySelector are both undefined");f.debug(`Found ${n.length} diagrams`),a?.startOnLoad!==void 0&&(f.debug("Start On Load: "+a?.startOnLoad),z.updateSiteConfig({startOnLoad:a?.startOnLoad}));let o=new U.InitIDGenerator(a.deterministicIds,a.deterministicIDSeed),c,s=[];for(let l of Array.from(n)){if(f.info("Rendering diagram: "+l.id),l.getAttribute("data-processed"))continue;l.setAttribute("data-processed","true");let h=`mermaid-${o.next()}`;c=l.innerHTML,c=hr(U.entityDecode(c)).trim().replace(/<br\s*\/?>/gi,"<br/>");let y=U.detectInit(c);y&&f.debug("Detected early reinit: ",y);try{let{svg:m,bindFunctions:w}=yield Tt(h,c,l);l.innerHTML=m,e&&(yield e(h)),w&&w(l)}catch(m){rn(m,s,R.parseError)}}if(s.length>0)throw s[0]})},"runThrowsErrors"),_t=i(function(e){z.initialize(e)},"initialize"),an=i(function(e,r,t){return d(this,null,function*(){f.warn("mermaid.init is deprecated. Please use run instead."),e&&_t(e);let a={postRenderCallback:t,querySelector:".mermaid"};typeof r=="string"?a.querySelector=r:r&&(r instanceof HTMLElement?a.nodes=[r]:a.nodes=r),yield St(a)})},"init"),nn=i((t,...a)=>d(void 0,[t,...a],function*(e,{lazyLoad:r=!0}={}){ge(),xe(...e),r===!1&&(yield Ci())}),"registerExternalDiagrams"),Mt=i(function(){if(R.startOnLoad){let{startOnLoad:e}=z.getConfig();e&&R.run().catch(r=>f.error("Mermaid failed to initialize",r))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",Mt,!1);var on=i(function(e){R.parseError=e},"setParseErrorHandler"),fe=[],Te=!1,Ct=i(()=>d(void 0,null,function*(){if(!Te){for(Te=!0;fe.length>0;){let e=fe.shift();if(e)try{yield e()}catch(r){f.error("Error executing queue",r)}}Te=!1}}),"executeQueue"),sn=i((e,r)=>d(void 0,null,function*(){return new Promise((t,a)=>{let n=i(()=>new Promise((o,c)=>{z.parse(e,r).then(s=>{o(s),t(s)},s=>{f.error("Error parsing",s),R.parseError?.(s),c(s),a(s)})}),"performCall");fe.push(n),Ct().catch(a)})}),"parse"),Tt=i((e,r,t)=>new Promise((a,n)=>{let o=i(()=>new Promise((c,s)=>{z.render(e,r,t).then(l=>{c(l),a(l)},l=>{f.error("Error parsing",l),R.parseError?.(l),s(l),n(l)})}),"performCall");fe.push(o),Ct().catch(n)}),"render"),R={startOnLoad:!0,mermaidAPI:z,parse:sn,render:Tt,init:an,run:St,registerExternalDiagrams:nn,registerLayoutLoaders:yr,initialize:_t,parseError:void 0,contentLoaded:Mt,setParseErrorHandler:on,detectType:we,registerIconPacks:ur},ke=R;var Lt=(()=>{class e{constructor(t){this.renderer=t.createRenderer(null,null),ke.initialize({startOnLoad:!1,theme:"default",securityLevel:"loose",flowchart:{htmlLabels:!0,useMaxWidth:!0}})}renderDiagram(t,a){return d(this,null,function*(){let n=document.getElementById(t);if(!n){console.error(`Element with id ${t} not found`);return}try{this.renderer.setProperty(n,"innerHTML","");let{svg:o}=yield ke.render(`mermaid-${t}`,a);this.renderer.setProperty(n,"innerHTML",o)}catch(o){console.error("Error rendering Mermaid diagram:",o)}})}static{this.\u0275fac=function(a){return new(a||e)($e(je))}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var At=(()=>{class e{constructor(t,a){this.mermaidService=t,this.el=a,this.definition="",this.diagramId=""}ngOnChanges(){this.definition&&this.diagramId&&this.renderDiagram()}ngAfterViewInit(){this.addNodeIds()}renderDiagram(){return d(this,null,function*(){yield this.mermaidService.renderDiagram(this.diagramId,this.definition),this.addNodeIds()})}addNodeIds(){let t=this.el.nativeElement.querySelector(`#${this.diagramId}`);t&&t.querySelectorAll(".node").forEach((n,o)=>{n.setAttribute("data-node-id",n.id||`node-${o}`)})}onDiagramClick(t){let n=t.target.closest(".node");if(n){let o=n.getAttribute("data-node-id");o&&console.log(`Clicked node ID: ${o}`)}}static{this.\u0275fac=function(a){return new(a||e)(N(Lt),N(Ue))}}static{this.\u0275cmp=Z({type:e,selectors:[["app-mermaid"]],inputs:{definition:"definition",diagramId:"diagramId"},standalone:!0,features:[Ne,re],decls:1,vars:1,consts:[[3,"click","id"]],template:function(a,n){a&1&&(J(0,"div",0),Be("click",function(c){return n.onDiagramClick(c)}),ee()),a&2&&B("id",n.diagramId)},styles:["[_nghost-%COMP%]{display:block;width:100%;overflow-x:auto;text-align:center}[_nghost-%COMP%]     svg{max-width:100%;height:auto}[_nghost-%COMP%]     .node{cursor:pointer}[_nghost-%COMP%]     .node rect, [_nghost-%COMP%]     .node circle, [_nghost-%COMP%]     .node ellipse, [_nghost-%COMP%]     .node polygon, [_nghost-%COMP%]     .node path{transition:all .3s ease}[_nghost-%COMP%]     .node:hover rect, [_nghost-%COMP%]     .node:hover circle, [_nghost-%COMP%]     .node:hover ellipse, [_nghost-%COMP%]     .node:hover polygon, [_nghost-%COMP%]     .node:hover path{filter:brightness(1.2)}"]})}}return e})();function cn(e,r){if(e&1&&(J(0,"div"),qe(1,"app-mermaid",1),ee()),e&2){let t=Ye();He(),B("definition",t.diagramDefinition)("diagramId",t.diagram.id)}}var Kn=(()=>{class e{constructor(t,a){this.route=t,this.diagramLoader=a,this.diagram=null,this.diagramDefinition="",this.id=Ve.required()}ngOnInit(){this.route.paramMap.subscribe(t=>{this.loadDiagram(this.id())})}loadDiagram(t){this.diagram=this.diagramLoader.getDiagrams().find(a=>a.id===t)||null,this.diagram&&this.diagramLoader.loadDiagram(this.diagram).subscribe(a=>this.diagramDefinition=a,a=>console.error("Error loading diagram:",a))}static{this.\u0275fac=function(a){return new(a||e)(N(Ke),N(xr))}}static{this.\u0275cmp=Z({type:e,selectors:[["app-diagram-viewer"]],inputs:{id:[ze.SignalBased,"id"]},standalone:!0,features:[re],decls:1,vars:1,consts:[[4,"ngIf"],[3,"definition","diagramId"]],template:function(a,n){a&1&&Ge(0,cn,2,2,"div",0),a&2&&B("ngIf",n.diagram)},dependencies:[We,Xe,Qe,At],styles:["a[_ngcontent-%COMP%]{display:inline-block;margin-top:20px;color:#007bff;text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})}}return e})();export{Kn as a};
